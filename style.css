/* =========================
   SkyCast - style.css
   ========================= */

@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap');
:root{
  --accent:#2b9df4;
  --glass: rgba(255,255,255,0.14);
  --muted: rgba(255,255,255,0.85);
  --radius:14px;
}

/* Base */
*{ box-sizing:border-box; }
body{
  margin:0;
  font-family:'Poppins',system-ui,Arial;
  color:#082032;
  background: linear-gradient(180deg,#a6f6ff 0%, #7ad7ff 50%, #cbeffd 100%);
  transition: background .6s ease, color .3s ease;
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:28px;
}

/* dark */
body.dark{
  background: linear-gradient(160deg,#0f2027,#203a43,#2c5364);
  color:#e6eef4;
}

/* App layout */
.app{
  width:100%;
  max-width:980px;
  display:grid;
  grid-template-columns: 1fr;
  gap:18px;
}

/* Topbar */
.topbar{
  display:flex;
  justify-content:space-between;
  align-items:center;
  background: var(--glass);
  padding:12px 16px;
  border-radius:var(--radius);
  box-shadow:0 10px 30px rgba(8,20,40,0.06);
}
.brand{ font-weight:600; font-size:1.3rem; }
.controls{ display:flex; gap:10px; align-items:center; }

/* Search */
.search{ padding:12px; }
.search-row{ display:flex; gap:8px; }
#city-input{ flex:1; padding:10px 12px; border-radius:10px; border:1px solid rgba(0,0,0,0.08); outline:none; }
#search-btn, #geo-btn{ padding:10px 12px; border-radius:10px; border:0; background:var(--accent); color:white; cursor:pointer; }
#recentContainer{ margin-top:8px; display:flex; flex-wrap:wrap; gap:8px; }

/* Recent chips */
.chip{ background:rgba(255,255,255,0.9); border-radius:20px; padding:6px 10px; cursor:pointer; font-weight:600; }

/* Alert box */
.alertbox{
  max-width:900px;
  margin:0 auto;
  padding:14px;
  border-radius:10px;
  background:#fff3cd;
  color:#856404;
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:12px;
  box-shadow:0 8px 20px rgba(0,0,0,0.08);
}
.alertbox.error{ background:#f8d7da; color:#7a1418; }
.alertbox .close{ background:transparent; border:0; font-weight:700; cursor:pointer; }

/* Weather card */
.card{
  display:flex;
  gap:18px;
  align-items:center;
  padding:18px;
  border-radius:12px;
  background:var(--glass);
  backdrop-filter: blur(8px);
  max-width:900px;
  margin:0 auto;
}
.weather-left{ width:140px; display:flex; align-items:center; justify-content:center; }
.weather-right{ flex:1; }

/* temp */
.temp-large{ font-size:2.1rem; margin:8px 0; font-weight:700; }

/* forecast grid */
.forecast{ max-width:900px; margin:0 auto; padding:12px; border-radius:12px; background:var(--glass); }
.forecast-grid{ display:grid; grid-template-columns: repeat(auto-fit,minmax(110px,1fr)); gap:10px; margin-top:12px; }
.forecast-item{ padding:10px; border-radius:10px; background:rgba(255,255,255,0.9); text-align:center; font-weight:600; }

/* Footer */
.footer{ text-align:center; margin-top:8px; opacity:0.8; }

/* =========================
   Animaciones de clima (CSS)
   ========================= */

/* Contenedor que mostrará animación según clima */
.weather-anim{ width:120px; height:120px; position:relative; }

/* Sol con rayos girando */
.anim-sun{
  width:100px;height:100px;border-radius:50%;background: radial-gradient(circle at 30% 30%, #fffbb2, #ffd55a 60%, #ffb84d);
  position:relative; box-shadow:0 6px 20px rgba(0,0,0,0.08);
  animation: floatY 3s ease-in-out infinite;
}
.anim-sun::after{
  content:""; position:absolute; left:50%; top:50%; transform:translate(-50%,-50%); width:140%; height:140%; border-radius:50%;
  border:6px solid rgba(255,235,150,0.18); animation: spin 6s linear infinite;
}

/* Nube con movimiento */
.anim-cloud{
  width:110px; height:60px; background: linear-gradient(#ffffff,#f0f0f0);
  border-radius:50px; position:relative; box-shadow:0 6px 18px rgba(0,0,0,0.06); animation: floatX 4.5s ease-in-out infinite;
}
.anim-cloud::before, .anim-cloud::after{
  content:""; position:absolute; background:linear-gradient(#fff,#f7f7f7);
  border-radius:50px;
}
.anim-cloud::before{ width:50px; height:50px; left:-25px; top:-20px; }
.anim-cloud::after{ width:70px; height:70px; right:-20px; top:-25px; }

/* Lluvia (drops) */
.rain-drops{ position:absolute; left:0; right:0; bottom:-10px; top:70px; pointer-events:none; }
.rain-drops span{ position:absolute; width:2px; height:14px; background:rgba(255,255,255,0.9); animation: fall 0.8s linear infinite; opacity:0.85; border-radius:2px; }
.rain-drops span:nth-child(1){ left:10%; animation-delay:0s; }
.rain-drops span:nth-child(2){ left:30%; animation-delay:0.1s; }
.rain-drops span:nth-child(3){ left:50%; animation-delay:0.2s; }
.rain-drops span:nth-child(4){ left:70%; animation-delay:0.3s; }
.rain-drops span:nth-child(5){ left:90%; animation-delay:0.4s; }

/* Nieve (copos) */
.snow-flakes{ position:absolute; left:0; right:0; top:0; bottom:0; pointer-events:none; }
.snow-flakes span{ position:absolute; width:8px; height:8px; background:rgba(255,255,255,0.9); border-radius:50%; animation: snow 6s linear infinite; opacity:0.9; }
.snow-flakes span:nth-child(1){ left:15%; animation-delay:0s; }
.snow-flakes span:nth-child(2){ left:35%; animation-delay:1s; }
.snow-flakes span:nth-child(3){ left:55%; animation-delay:2s; }
.snow-flakes span:nth-child(4){ left:75%; animation-delay:3s; }

/* Animaciones generales */
@keyframes spin{ from{ transform:translate(-50%,-50%) rotate(0deg);} to{ transform:translate(-50%,-50%) rotate(360deg);} }
@keyframes floatY{ 0%,100%{ transform:translateY(0);}50%{ transform:translateY(-6px);} }
@keyframes floatX{ 0%,100%{ transform:translateY(0);}50%{ transform:translateY(-5px);} }
@keyframes fall{ 0%{ transform:translateY(-10px); opacity:0;} 50%{ opacity:1;} 100%{ transform:translateY(40px); opacity:0;} }
@keyframes snow{ 0%{ transform:translateY(-10px); } 100%{ transform:translateY(120%); } }

/* Responsive */
@media (max-width:720px){
  .card{ flex-direction:column; text-align:center; gap:10px; }
  .weather-left{ width:100%; }
}
/* Forzar visibilidad del forecast en modo dark */
body.dark .forecast { background: rgba(255,255,255,0.04); color: #e6eef4; }
body.dark .forecast-item { background: rgba(255,255,255,0.06); color: #e6eef4; border: 1px solid rgba(255,255,255,0.04); }
body.dark .forecast-item .temp, body.dark .forecast-item div { color: #e6eef4; }
